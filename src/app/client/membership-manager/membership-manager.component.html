<ng-template #membershipManagerModal let-modal>

  <div class="modal-body">
    <div class="row" *ngIf="!payMethodSelected">
      <div class="alert alert-info text-center">
        <h5>Formulario de Registro</h5>
        <h6> Realizar pago de afiliado </h6>
        <h6> {{user?.user_name}} </h6>
      </div>
    </div>
    <div class="row">
      <div class="col" *ngIf="!payMethodSelected">
        <div class="author-box">
          <div class="card-body">
            <div class="author-box-center">
              <img alt="image" style="max-width: 100%; max-height: 100%; object-fit: contain;"
                [src]="currentMembership.image || 'assets/images/banner/1.png'"
                class="rounded-circle author-box-picture">
              <div class="clearfix"></div>
              <div class="author-box-name">
                <a href="#" onClick="return false;">{{currentMembership.name}}</a>
              </div>
              <div class="author-box-job">{{currentMembership.productsCategory.name}}</div>
            </div>
            <div class="text-center">
              <div class="author-box-description">
                <button class="btn btn-primary" (click)="changeMembership()">Cambiar</button>
              </div>
              <div class="mb-2 mt-3">
                <div class="text-small fw-bold">{{currentMembership.description}}</div>
              </div>

              <div class="w-100 d-sm-none">

              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="row tex-center" *ngIf="!payMethodSelected">
        <div class="col-12">
          <div class="card-header text-center">
            <h6>Detalles</h6>
          </div>
          <div class="card-body">
            <div class="py-2">
              <p class="clearfix">
                <span class="float-start">
                  Subtotal
                </span>
                <span class="float-end font-weight-bold">
                  $ {{currentMembership.salePrice}}
                </span>
              </p>
              <p class="clearfix">
                <span class="float-start">
                  Impuestos
                </span>
                <span class="float-end font-weight-bold">
                  $ I.V.A incluido
                </span>
              </p>
              <p class="clearfix">
                <span class="float-start">
                  Total a pagar
                </span>
                <span class="float-end font-weight-bold">
                  $ {{currentMembership.salePrice}}
                </span>
              </p>
            </div>
          </div>
        </div>
      </div>

      <!-- <div class="row text-center" *ngIf="!payMethodSelected">
        <div class="col-lg-12" style="margin-left: 8px;">
          <h6>MÃ©todo de pago</h6>
          <div class="" ngbRadioGroup name="pay_method">
            <label class="form-check-label">
              <input class="form-check-input" ngbButton type="radio" [(ngModel)]="payMethodSelected"
                name="paymentOption" value="1"> CoinPayments
            </label>
          </div>
        </div>
      </div> -->
      <div class="row text-center mt-2" *ngIf="!payMethodSelected">
        <div class="col-lg-12" style="margin-left: 8px;">
          <button class="btn" (click)=" confirmTransaction()" [ngClass]="{'btn-danger': balanceInformation?.availableBalance == 0 || balanceInformation?.availableBalance == null,
                      'btn-success': balanceInformation?.availableBalance >= 10}">Pago con saldo</button>
        </div>
        <!-- <div role="button" class="col-lg-12 mt-2" style="margin-left: 8px;">
          <img src="assets/images/cards/coinpayment.png" alt="img_coinpayment" class="" style="border-radius: 10px;">
        </div> -->
      </div>
      <div class="row text-center mt-2" *ngIf="!payMethodSelected">
        <div class="col-lg-12" style="margin-left: 8px;">
          <input (click)="createPagaditoTransaction()" type="image" src="assets/images/cards/visa-mast.webp"
            alt="Pago con tarjeta de credito y debito" class="img-fluid mb-2">
        </div>
      </div>
      <div class="row mt-2 d-flex align-items-center justify-content-center" *ngIf="payMethodSelected == 1">
        <app-coinpayments [membership]="currentMembership"></app-coinpayments>
      </div>

    </div>
  </div>
  <div class="modal-footer">
  </div>
</ng-template>
